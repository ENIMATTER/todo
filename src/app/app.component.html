<ng-sidebar-container style="height: 100vh">

  <!--  слайд-меню-->
  <ng-sidebar
    (onClosed)="onClosedMenu()"
    [animate]="true"
    [autoFocus]="false"
    [closeOnClickBackdrop]="true"
    [closeOnClickOutside]="false"
    [mode]="menuMode"
    [opened]="menuOpened"
    [position]="menuPosition"
    [showBackdrop]="showBackdrop"
  >

    <div class="sidebar"
         data-step="1"
         data-intro="Добавление/удаление/редактирование категорий"
    >

      <app-categories
        (selectCategory)="selectCategory($event)"
        (deleteCategory)="deleteCategory($event)"
        (updateCategory)="updateCategory($event)"
        (addCategory)="addCategory($event)"
        (searchCategory)="searchCategory($event)"

        [uncompletedCountForCategoryAll]="uncompletedCountForCategoryAll"
        [selectedCategory]="selectedCategory"
        [categories]="categories"
        [categorySearchValues]="categorySearchValues"
      >

      </app-categories>

    </div>

  </ng-sidebar>

  <div ng-sidebar-content>

    <div class="main-panel">

      <nav class="navbar navbar-expand-lg navbar-transparent navbar-absolute fixed-top ">

        <!--    навигация с шапкой и списком категорий-->

<!--        <app-header-->
<!--          (toggleStat)="toggleStat($event)"-->
<!--          [categoryName]="selectedCategory ? selectedCategory.title: 'Все'"-->
<!--          [showStat]="showStat"-->

<!--          (toggleMenu)="toggleMenu()"-->

<!--        ></app-header>-->

      </nav>

      <div class="content">
        <div class="container-fluid">

          <div
            data-step="2"
            data-intro="Статистика по задачам">

            <!-- статистика -->
<!--            <app-stat-->
<!--              [completeTasksInCategory]="completedCountInCategory"-->
<!--              [showStat]="showStat"-->
<!--              [totalTasksInCategory]="totalTasksCountInCategory"-->
<!--              [uncompleteTasksInCategory]="uncompletedCountInCategory"-->
<!--            ></app-stat>-->

          </div>

          <div class="row" >

            <div class="col-12"
                 data-step="3"
                 data-intro="Список всех задач с поиском и фильтрами">

              <app-tasks

                [showSearch]="showSearch"
                [totalTasksFounded]="totalTasksFounded"
                [tasks]="tasks"
                [priorities]="priorities"
                [selectedCategory]="selectedCategory"
                [taskSearchValues]="taskSearchValues"

                (searchAction)="searchTasks($event)"
                (toggleSearch)="toggleSearch($event)"
                (selectCategory)="selectCategory($event)"
                (paging)="paging($event)"
                (addTask)="addTask($event)"
                (deleteTask)="deleteTask($event)"
                (updateTask)="updateTask($event)"

              >

              </app-tasks>

            </div>
          </div>
        </div>
      </div>

      <app-footer></app-footer>

    </div>

  </div>

</ng-sidebar-container>
